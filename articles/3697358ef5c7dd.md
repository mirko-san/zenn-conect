---
title: "afx ã§ cli ãƒ„ãƒ¼ãƒ«ã‚’ç®¡ç†ã—ã¦ã¿ãŸ"
emoji: "ğŸ“š"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["afx"]
published: true
---

ã“ã®è¨˜äº‹ã¯ [mirko-san ã®ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ Advent Calendar 2022](https://adventar.org/calendars/8051) ã® 12æœˆ 4æ—¥ã®è¨˜äº‹ã§ã™ã€‚

ã“ã‚“ã«ã¡ã¯ã€‚
12æœˆ 3æ—¥ã®è¨˜äº‹ã§ã¯ zinit ã§ cli ãƒ„ãƒ¼ãƒ«ã‚’ç®¡ç†ã—ã¦ã¿ã¾ã—ãŸãŒã€æœ¬æ—¥ã¯ [afx](https://babarot.me/afx/) ã§ã®ç®¡ç†ã‚’è©¦ã¿ã¾ã™ã€‚

## çµŒç·¯

ã„ã‚ã„ã‚ãªæ–¹æ³•ã§ cli ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŒã¡ãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚ã‚‹ç§ãŒã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹ cli ãƒ„ãƒ¼ãƒ«ã‚’ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†ã—ãŸã„ã¨ã„ã†æ°—æŒã¡ã®ã‚‚ã¨ [afx](https://babarot.me/afx/) ã‚’è©¦ã—ã¾ã—ãŸã€‚

é¡Œæã¨ã—ã¦ã€ç§ã®è‡ªä½œã‚³ãƒãƒ³ãƒ‰ã§ã‚ã‚‹ [mstanzaku](https://github.com/mirko-san/mtanzaku) ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚

:::message
`mtanzaku` ã¯ã™ã”ãå˜ç´”ãª Rust ã§æ›¸ã„ãŸã‚³ãƒãƒ³ãƒ‰ã§ã€ãƒã‚¤ãƒŠãƒªç½®ã‘ã°ãƒãƒ³ã¨å‹•ããƒãƒªã®ã‚„ã¤ã§ã™ã€‚
linux ã§å‹•ããƒã‚¤ãƒŠãƒªã¯ã“ã¡ã‚‰ã«ã‚ã’ã¦ã‚ã‚Šã¾ã™ã€‚

https://github.com/mirko-san/mtanzaku/releases
:::

## afx ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

https://babarot.me/afx/

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ golang ãŒã‚ã‚Œã°æ‰‹ã£å–ã‚Šæ—©ã `go install` ã§å…¥ã‚‹ã€‚

https://babarot.me/afx/getting-started/#go-install

```
$ go install github.com/b4b4r07/afx@latest
```

golang ãŒç„¡ã„ç’°å¢ƒç”¨ã«ã‚‚ãƒã‚¤ãƒŠãƒªãŒé…å¸ƒã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã¡ã‚‰ã‚’é©å½“ãªãƒ‘ã‚¹ãŒé€šã£ã¦ã„ã‚‹ã¨ã“ã‚ã«ç½®ã‘ã°å‹•ããã†ã€‚

https://babarot.me/afx/getting-started/#manually

## afx ã§è‡ªä½œã‚³ãƒãƒ³ãƒ‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ã—ã¦ã¿ã‚‹

å°‘ã—æ‚²ã—ã„ãƒ‹ãƒ¥ãƒ¼ã‚¹ã ãŒã€ github ã‹ã‚‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œã†å ´åˆã¯ `GITHUB_TOKEN` ç’°å¢ƒå¤‰æ•°ãŒå¿…è¦ã«ãªã‚Šãã†ã ã£ãŸã€‚
ï¼ˆå›é¿ç­–ãŒã‚ã‚Œã°æ•™ãˆã¦ã»ã—ã„ã§ã™ğŸ˜¢ï¼‰

ä»Šå›ã¯è©¦ã—ã« Github ã® PAT ã‚’æ‰•ã„å‡ºã™ã€‚

https://docs.github.com/ja/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token

ãã®å…ˆã¯ç°¡å˜ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãª yaml ã‚’æ›¸ãã¨ mtanzaku ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

```yaml:~/.config/afx/main.yaml
github:
  - name: mirko-san/mtanzaku
    owner: mirko-san
    repo: mtanzaku
    release:
      name: mtanzaku
      tag: v0.1.1
      asset:
        filename: mtanzaku-x86_64-unknown-linux-gnu.tar.gz
    command:
      link:
        - from: mtanzaku
          to: mtanzaku
      snippet: |
        export PATH="$PATH:/home/mirko-san/.afx/github.com/mirko-san/mtanzaku"
```

```shell:~/.zshrc
source <(afx init)
```

`zinit ice` ã¨æ¯”ã¹ã‚‹ã¨å¤§å¤‰æ›¸ãã‚„ã™ã„ã¨ã„ã†æ°—æŒã¡ã§ã—ãŸã€‚å®šç¾©ãŒç›´æ„Ÿçš„ï¼
ãŸã ã—ã€ Github ã® PAT ãŒå¿…è¦ã ã‘ã‚Œã©â€¦ã€‚

## ã•ã„ã”ã«

afx ã¯æ›¸ãå¿ƒåœ°ãŒã™ã”ãè‰¯ã‹ã£ãŸã§ã™ã€‚
`zinit ice` ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã¾ã‚Šç›´æ„Ÿçš„ã§ã¯ãªã‹ã£ãŸã®ã§ã€è‡ªåˆ†ã¯ afx ã«ç§»è¡Œã—ã¦ã¿ã‚ˆã†ã‹ãªã¨æ€ã„ã¾ã—ãŸï¼

ã¡ãªã¿ã«ã€ [mirko-san ã®ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ Advent Calendar 2022](https://adventar.org/calendars/8051) ã§ã¯ 2022 å¹´ 12æœˆ 25æ—¥ã¾ã§~~ã§ãã‚Œã°~~æ¯æ—¥é©å½“ãªãƒã‚¨ãƒ ã‚„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«é–¢ã™ã‚‹è¨˜äº‹ã‚’æŠ•ç¨¿äºˆå®šã§ã™ã€‚
ï¼ˆé€±æœ«ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«é–¢ã™ã‚‹è¨˜äº‹ãƒ¡ã‚¤ãƒ³ã®äºˆå®šã§ã™ï¼‰
ã‚ˆã‚ã—ã‘ã‚Œã°12æœˆã®ãŠä¾›ã«è¦‹ã¦ã¿ã¦ä¸‹ã•ã„ğŸ¤Ÿ
